<!DOCTYPE html>
<html lang="en">

<head>
    <title>Codeheap - Upload Javascript Project</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords"
        content="Codeheap, Free source codes download, Free e-books download, Free handwritten notes download, B.tech, Sharing, Upload, E-books, Notes, Best projects for resume">
    <meta name="robots" content="index, follow">
    <meta name="description"
        content="Codeheap is platform where you can download free source code of industrial level projects, free easy to understand e-books, handwritten notes and watch engineering students recommended tutorial videos.">
    <link rel="shortcut icon" href="../images/codeheap.ico" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/navbarLog.css">
</head>

<body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="/home">
                <img class="rounded-circle" src="../images/logo.png" alt="Codeheap Logo" width="30" height="30">
            </a>
            <button id="bar2" class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation" onclick="hamAnimation()">
                <div id="bar" class="bar"></div>
            </button>
            <div class="collapse navbar-collapse bg-dark" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-md-0" id="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" aria-current="page" href="/home">Home</a>
                        <div class="link-active"></div>
                    </li>
                    <li class="nav-item d-flex justify-content-center">
                        <a class="nav-link active" href="/projects">Projects</a>
                        <div class="link-active"></div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/notes">Notes</a>
                        <div class="link-active"></div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/videos">Videos</a>
                        <div class="link-active"></div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/about">About Us</a>
                        <div class="link-active"></div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/contact">Contact Us</a>
                        <div class="link-active"></div>
                    </li>
                </ul>
            </div>
            <div class="navbar-brand" style="cursor: pointer;" onclick="openProfile()">
                <img class="rounded-circle" src="../images/profile.png"
                    alt="User Profile" width="30" height="30">
            </div>
            <div id="profileSupportedContent" class="container-fluid bg-dark">
                <ul class="navbar-nav me-auto mb-2 mb-md-0 d-flex flex-column align-items-center">
                    <li class="nav-item text-center my-3 px-2"
                        style="width: 90%; border-radius: 4px; overflow-x: hidden;">
                        <a class="nav-link" href="/myprojects">Your Projects</a>
                    </li>
                    <div class="dropdown">
                        <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton1"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Upload
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                            <li><a class="dropdown-item" href="/uploadjs">Javascript</a></li>
                        </ul>
                    </div>
                    <li class="nav-item mt-auto">
                        <a class="nav-link" href="/logout">Sign Out</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="alert alert-success" role="alert"
        style="position: fixed; top: 59px; z-index: 10; width: 100%; display: none;">
        <Strong>Success!</Strong> Code Copied!
    </div>
    <div onclick="backToTop()" id="backToTopBtn" class="center-x"><img
            src="../images/backtotop.png" alt="totop"></div>
    <div class="container mt-3">
        <h3 class="text-center">Upload Your Project</h3>
        <div class="mb-3 mt-3">
            <form id="form" enctype="multipart/form-data">
                <input name="projectTitle" id="projectTitle" type="text" class="form-control my-2" minlength="5"
                    placeholder="Project Title" required>

                <input type="text" value="JavaScript" name="projectLanguages" id="projectLanguages" class="form-control my-2"
                    placeholder="Languages used" readonly required>

                <textarea name="description" minlength="10" id="description" class="form-control my-2 row-10"
                    aria-label="With textarea" placeholder="Project description and its features" required></textarea>

                <label for="imageFile" class="form-label my-2">Upload project cover:</label>
                <input id="imageFile" name="imageFile" class="form-control form-control-sm" type="file"
                    accept="image/jpeg, image/png" required>

                <label for="videoFile" class="form-label my-2">Upload code video here: </label>
                <input id="videoFile" name="videoFile" class="form-control form-control-sm" type="file"
                    accept="video/ogg, video/mp4, video/webm" required>

                <label for="htmlFile" class="form-label my-2">Upload HTML code here:</label>
                <input id="htmlFile" name="htmlFile" class="form-control form-control-sm" type="file" accept="text/html"
                    required>

                <label for="cssFile" class="form-label my-2">Upload CSS code here:</label>
                <input id="cssFile" name="cssFile" class="form-control form-control-sm" type="file" accept="text/css"
                    required>

                <label for="jsFile" class="form-label my-2">Upload JS code here:</label>
                <input id="jsFile" name="jsFile" class="form-control form-control-sm" type="file"
                    accept="text/javascript" required>

                <button id="upload" type="submit" class="btn btn-primary my-3">Upload</button>
            </form>
        </div>
    </div>
    <div class="container-fluid mt-5" style="padding: 0;">
        <footer class="text-center text-lg-start" style="background-color: #000000;">
            <div class="text-center text-white p-1">
                <p class="text-white">Â© 2022 Copyright: codeheap.co.in</p>
            </div>
        </footer>
    </div>
</body>
<script></script>
<script src=""></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
    integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.min.js"
    integrity="sha384-kjU+l4N0Yf4ZOJErLsIcvOU2qSb74wXpOhqTvwVx3OElZRweTnQ6d31fXEoRD1Jy"
    crossorigin="anonymous"></script>
<script src="../js/navbarLog.js"></script>
<script>

    let myForm = document.getElementById(`form`);
    myForm.onsubmit = async function (e) {
        e.preventDefault();
        let value;
        let imageFile = document.getElementById(`imageFile`);
        let videoFile = document.getElementById(`videoFile`);
        let htmlFile = document.getElementById(`htmlFile`);
        let cssFile = document.getElementById(`cssFile`);
        let jsFile = document.getElementById(`jsFile`);
        let formData = new FormData();
        value = await fetch('/upload/uploadtext', {
            method: "POST",
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                projectTitle: document.getElementById('projectTitle').value,
                projectLanguages: document.getElementById('projectLanguages').value,
                description: document.getElementById('description').value
            })
        }).then(res => res.json()).then((json) => value = json);
        console.log(value);
        if (value.result) {
            let nextValue;
            formData.append('imageFile', imageFile.files[0], imageFile.files[0].name);
            formData.append('videoFile', videoFile.files[0], videoFile.files[0].name);
            formData.append('htmlFile', htmlFile.files[0], htmlFile.files[0].name);
            formData.append('cssFile', cssFile.files[0], cssFile.files[0].name);
            formData.append('jsFile', jsFile.files[0], jsFile.files[0].name);
            nextValue = await fetch('/upload/uploadjs', {
                method: "POST",
                body: formData
            }).then(res => res.json()).then((json) => nextValue = json);
            window.location.href = nextValue.nextURL;
        }
    }
</script>

</html>